<div class="container">
	<section class="module">
		<div class="module-header">
			<h1 class="text-center">SM-Tervek</h1>
			<div class="col-sm-12" style="margin-top:20px">
				<div class="input-group">
					<span class="input-group-addon">Feltöltésre kerülő időszak:</span>
					<input type="text" class="datepicker form-control" ng-model="vm.datefrom" std="{{vm.sdate}}">
					<span class="input-group-addon">-tól</span>
					<input type="text" class="datepicker form-control" ng-model="vm.dateto" std="{{vm.sdate}}">
					<span class="input-group-addon">-ig</span>
					<span class="input-group-addon">Darab</span>
					<input type="text" class="form-control" ng-model="vm.darab">
				</div>
			</div>
			<div class="col-sm-12">
				<div class="input-group">
					<select ng-model="vm.act">
					<option ng-repeat="item in vm.sheetmakers track by $index" value="{{item}}">{{item}}</option>
					</select>
					<select ng-model="vm.acttype">
						<option ng-repeat="item in vm.moduls" value="{{item.name}}">{{item.name}}</option>
					</select>
					<div class="input-group-btn">
						<a href="" class="btn btn-primary" ng-click="vm.show()" ng-disabled="vm.dateto<vm.datefrom">Input mezők</a>
					</div>
				</div>
			</div>
		</div>
		<div class="module-body">
			<table class="table table-condensed" ng-show="vm.mutat">
				<thead>
					<tr>
						<th>Dátum</th>
						<th>Gép</th>
						<th>Termék típus</th>
						<th>Lapszám</th>
						<th>Délelőtt</th>
						<th>Délután</th>
						<th>Éjszaka</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="item in vm.datumok" class="ng-scope">
						<td ng-model="vm.data.date"><input type="text" class="form-control" value="{{item}}" readonly></td>
						<td ng-model="vm.data.id"><input type="text" class="form-control" value="{{vm.act}}" readonly></td>
						<td ng-model="vm.data.type"><input type="text" class="form-control" value="{{vm.acttype}}" readonly></td>
						<td ng-model="vm.data.sheetnumber"><input type="text" class="form-control" value="{{(vm.moduls | filter:{'name':vm.acttype})[0].sheets}}" readonly></td>
						<td ng-model="vm.data.amountshift1"><input type="text" class="form-control" value="{{vm.darab}}"></td>
						<td ng-model="vm.data.amountshift2"><input type="text" class="form-control" value="{{vm.darab}}"></td>
						<td ng-model="vm.data.amountshift3"><input type="text" class="form-control" value="{{vm.darab}}"></td>
					</tr>
				</tbody>
			</table>
			<div class="col-sm-4">
				<button class="btn btn-success" ng-click="vm.save;vm.mutat=false" ng-disabled="vm.showmessage || vm.acttype==null">Feltölt</button>
				<div class="alert alert-success" ng-show="vm.showmessage">
					<strong>Sikeres felvitel! </strong>{{vm.showtitle}}
				</div>
			</div>
		</div>
		<div class="module-footer">
			<hr>
			<h1 class="text-center">Felvett tervek listája</h1>
			<div class="tray filter-tray top" style="margin-top:20px">
				<div class="tray-inner">
					<div class="filter-rule-group">
						<div class="col-sm-4">
							<div class="form-group">
								<span class="control-label" style="color:#FFFFFF">Dátum:</span>
								<input type="text" ng-model="vm.search.date" class="form-control">
							</div>
						</div>
						<div class="col-sm-4">
							<div class="form-group">
								<span class="control-label" style="color:#FFFFFF">Gép:</span>
								<select ng-model="vm.search.id" class="form-control">
						    		<option value="">Mind</option>
                					<option ng-repeat="item in vm.planlist" value="{{item.id}}">{{item.id}}</option>
            					</select>
							</div>
						</div>
						<div class="col-sm-4">
							<div class="form-group">
								<span class="control-label" style="color:#FFFFFF">Termék típus:</span>
								<select ng-model="vm.search.type" class="form-control">
						    		<option value="">Mind</option>
                					<option ng-repeat="item in vm.planlist" value="{{item.type}}"></option>
            					</select>
							</div>
						</div>
					</div>
				</div>
			</div>
			<table class="table table-condensed">
				<thead>
					<tr>
						<th>Dátum</th>
						<th>Gép</th>
						<th>Termék típus</th>
						<th>Lapszám</th>
						<th>Délelőtt</th>
						<th>Délután</th>
						<th>Éjszaka</th>
						<th>Szerkesztés</th>
					</tr>
				</thead>
				<tbody>
					<!--tr ng-repeat="item in vm.planlist | filter: search track by $index" class="ng-scope"-->
					<tr ng-repeat="item in vm.planlist">
						<td>{{item.date}}</td>
						<td>{{item.id}}</td>
						<td>{{item.type}}</td>
						<td>{{item.sheetnumber}}</td>
						<td>{{item.amountshift1}}</td>
						<td>{{item.amountshift2}}</td>
						<td>{{item.amountshift3}}</td>
						<td><button class="btn btn-primary" ng-click="vm.edit = item" title="Szerkesztés"><i class="icon-edit"></i></button></td>
					</tr>
				</tbody>
			</table>
		</div>
	</section>
</div>
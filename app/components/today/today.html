<div class="container-fluid">
  <section class="module col-sm-10 col-sm-offset-1">
    <section class="module col-sm-3 col-md-3">
      <div class="module-body">
        <h2 class="voice voice-brand">UF/MBR Összesítő</h2>
        <hr>
        <div>
          <h2 class="voice voice-brand">
            <i class="icon-filter"></i> Szűrő</h2>
          <p>
            Válassz az alábbi dátum mezőkből kijelezni kívánt időszakot:
          </p>
          <div class="input-group col-sm-12">
            <span class="input-group-addon">Dátumra:</span>
            <input type="text" class="datepicker form-control" ng-model="vm.startdate" setdate="0" end="{{vm.edate}}" ng-disabled="vm.load">
          </div>
          <!--<div class="input-group col-sm-12">
            <span class="input-group-addon">Dátumtig:</span>
            <input type="text" class="datepicker form-control" ng-model="vm.enddate" setdate="-1d" end="{{vm.edate}}">
          </div>-->
          <div class="progress progress-info progress-striped active" ng-hide="!vm.load">
            <div class="progress-bar" style="width: 100%">
              <p class="text-center">Frissítés...</p>
            </div>
          </div>
          <div class="button-group">
            <button class="btn btn-info" ng-click="vm.start();" ng-disabled="vm.load">
              <i class="icon icon-filter"></i> Szűrés</button>
          </div>
          <br>
        </div>
        <hr>
        <div>
          <h2 class="voice voice-brand">
            <i class="icon-ico_target_lg"></i> Célok</h2>
          <p>
            Változtasd a számokat, a színjelölések módosítására:
          </p>
          <div class="tabbable">
            <ul class="nav nav-tabs">
              <li class="active">
                <a href="#zw500targets" data-toggle="tab">500</a>
              </li>
              <li>
                <a href="#zbtargets" data-toggle="tab">ZB</a>
              </li>
              <li>
                <a href="#zw1000targets" data-toggle="tab">1000</a>
              </li>
              <li>
                <a href="#zw1500targets" data-toggle="tab">1500</a>
              </li>
            </ul>
            <div class="tab-content" style="border: 1px solid #dddddd;border-top: 0;padding: 10px;">
              <div class="tab-pane active" id="zw500targets">
                <div class="input-group">
                  <span class="input-group-addon">500 SM selejt %:</span>
                  <input type="text" class="form-control text-center" ng-model="vm.rates.smscrap">
                </div>
                <div class="input-group">
                  <span class="input-group-addon">500 Modul selejt %:</span>
                  <input type="text" class="form-control text-center" ng-model="vm.rates.modscrap">
                </div>
                <div class="input-group">
                  <span class="input-group-addon">500 BP cél AEQ:</span>
                  <input type="text" class="form-control text-center" ng-model="vm.rates.bp">
                </div>
                <div class="input-group">
                  <span class="input-group-addon">500 Minősítési cél AEQ:</span>
                  <input type="text" class="form-control text-center" ng-model="vm.rates.min">
                </div>
              </div>
              <div class="tab-pane" id="zbtargets">
                <div class="input-group">
                  <span class="input-group-addon">ZB SM selejt %:</span>
                  <input type="text" class="form-control text-center" ng-model="vm.rates.zbsmscrap">
                </div>
                <div class="input-group">
                  <span class="input-group-addon">ZB Modul selejt %:</span>
                  <input type="text" class="form-control text-center" ng-model="vm.rates.zbmodscrap">
                </div>
                <div class="input-group">
                  <span class="input-group-addon">ZB BP cél AEQ:</span>
                  <input type="text" class="form-control text-center" ng-model="vm.rates.zbbp">
                </div>
                <div class="input-group">
                  <span class="input-group-addon">ZB Minősítési cél AEQ:</span>
                  <input type="text" class="form-control text-center" ng-model="vm.rates.zbmin">
                </div>
              </div>
              <div class="tab-pane" id="zw1000targets">
                <div class="input-group">
                  <span class="input-group-addon">ZW1000 Minősítési cél AEQ:</span>
                  <input type="text" class="form-control text-center" ng-model="vm.rates.zw1000min">
                </div>
              </div>
              <div class="tab-pane" id="zw1500targets">
                <div class="input-group">
                  <span class="input-group-addon">ZW1500 Minősítési cél AEQ:</span>
                  <input type="text" class="form-control text-center" ng-model="vm.rates.zw1500min">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="module col-sm-9 col-md-9">
      <header class="module-header">
        <h1 class="voice voice-brand">UF/MBR Összesítő:
          <b> {{vm.startdate}} </b>
        </h1>
        <hr>
      </header>
      <div class="module-body">
        <h2 class="voice voice-brand">ZW500</h2>
        <div class="row">
          <div class="col-xs-2">Szak</div>
          <div class="col-xs-2">Lapgyártók</div>
          <div class="col-xs-2">Tokozó Ki</div>
          <div class="col-xs-2">Kádak Ki</div>
          <div class="col-xs-2">Bökés / AEQ</div>
          <div class="col-xs-2">Minősítve</div>
        </div>
        <style>
          .myRow:hover {
            background-color: #ddd;
          }
          .myRow.ttl .col-sm-2 h3 strong {
            color: #005BC9!important;
          }
        </style>
        <div class="row myRow" ng-repeat="shn in [1,3]" style="border-top:1px solid #ddd;border-bottom: 1px solid #ddd;padding-top: 20px;">
          <div class="col-xs-2">
            <h3>
              <strong>{{shn | shift:vm.startdate}}</strong> - {{shn==1?'DE':'ÉJ'}}</h3>
          </div>
          <div class="col-xs-2">
            <h3>
              <i class="{{vm.iconize(((vm.data | filter:{shiftnum: shn, machine: 'Sheetmaker', category: 'GOOD'}) | sumField:'sumaeq'),'sm', shn);}}"></i>
              <strong>{{(vm.data | filter:{shiftnum: shn, machine: 'Sheetmaker', category: 'GOOD'}) | sumField:'sumaeq'}}</strong>
            </h3>
          </div>
          <div class="col-xs-2">
            <h3>
              <i class="{{vm.iconize(((vm.data | filter:{shiftnum: shn, machine: 'Potting', category: 'OUT'}) | sumField:'sumaeq'),'potting', shn);}}"></i>
              <strong>{{(vm.data | filter:{shiftnum: shn, machine: 'Potting', category: 'OUT'}) | sumField:'sumaeq'}}</strong>
            </h3>
          </div>
          <div class="col-xs-2">
            <h3>
              <i class="{{vm.iconize(((vm.data | filter:{shiftnum: shn, machine: 'MTF', category: 'BP-OUT', type: '!ZB500S'}) | sumField:'sumaeq'),'bp', shn);}}"></i>
              <strong>{{(vm.data | filter:{shiftnum: shn, machine: 'MTF', category: 'BP-OUT', type: '!ZB500S'}) | sumField:'sumaeq'}}</strong>
            </h3>
          </div>
          <div class="col-xs-2">
            <h3>
              <strong>{{ ((vm.data | filter:{shiftnum: shn, machine: 'MTF', category: 'BOK-BOKES', type: '!ZB500S'}) | sumField:'amount')/((vm.data
                | filter:{shiftnum: shn, machine: 'MTF', category: 'BP-OUT', type: '!ZB500S'}) | sumField:'sumaeq') | number:1}}</strong>
            </h3>
          </div>
          <div class="col-xs-2">
            <h3>
              <i class="{{vm.iconize(((vm.data | filter:{shiftnum: shn, machine: 'MTF', category: 'MIN-AMOUNT', type: '!ZB500S_MIN'}) | sumField:'sumaeq'),'min', shn);}}"></i>
              <strong>{{(vm.data | filter:{shiftnum: shn, machine: 'MTF', category: 'MIN-AMOUNT', type: '!ZB500S_MIN'}) | sumField:'sumaeq'}}</strong>
            </h3>
          </div>
        </div>
        <div class="row myRow ttl" style="border-top:1px solid #ddd;border-bottom: 1px solid #ddd;padding-top: 20px;">
          <div class="col-xs-2">
            <h3>
              <strong>NAP</strong>
            </h3>
          </div>
          <div class="col-xs-2">
            <h3>
              <i class="{{vm.iconize(((vm.data | filter:{shiftnum: shn, machine: 'Sheetmaker', category: 'GOOD'}) | sumField:'sumaeq'),'sm', 0);}}"></i>
              <strong>{{(vm.data | filter:{machine: 'Sheetmaker', category: 'GOOD'}) | sumField:'sumaeq'}}</strong>
            </h3>
          </div>
          <div class="col-xs-2">
            <h3>
              <i class="{{vm.iconize(((vm.data | filter:{shiftnum: shn, machine: 'Potting', category: 'OUT'}) | sumField:'sumaeq'),'potting', 0);}}"></i>
              <strong>{{(vm.data | filter:{machine: 'Potting', category: 'OUT'}) | sumField:'sumaeq'}}</strong>
            </h3>
          </div>
          <div class="col-xs-2">
            <h3>
              <i class="{{vm.iconize(((vm.data | filter:{shiftnum: shn, machine: 'MTF', category: 'BP-OUT', type: '!ZB500S'}) | sumField:'sumaeq'),'bp', 0);}}"></i>
              <strong>{{(vm.data | filter:{machine: 'MTF', category: 'BP-OUT', type: '!ZB500S'}) | sumField:'sumaeq'}}</strong>
            </h3>
          </div>
          <div class="col-xs-2">
            <h3>
              <strong>{{ ((vm.data | filter:{machine: 'MTF', category: 'BOK-BOKES', type: '!ZB500S'}) | sumField:'amount')/((vm.data
                | filter:{machine: 'MTF', category: 'BP-OUT', type: '!ZB500S'}) | sumField:'sumaeq') | number:1}}</strong>
            </h3>
          </div>
          <div class="col-xs-2">
            <h3>
              <i class="{{vm.iconize(((vm.data | filter:{shiftnum: shn, machine: 'MTF', category: 'MIN-AMOUNT', type: '!ZB500S_MIN'}) | sumField:'sumaeq'),'min', 0);}}"></i>
              <strong>{{(vm.data | filter:{machine: 'MTF', category: 'MIN-AMOUNT', type: '!ZB500S_MIN'}) | sumField:'sumaeq'}}</strong>
            </h3>
          </div>
        </div>
        <hr>

      </div>
    </section>
  </section>
</div>
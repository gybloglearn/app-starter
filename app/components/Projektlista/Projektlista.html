<div class="container">
  <section class="module">
    <div class="module-header">Projektlista</div>
    <div class="module-body">
      <div class="tray filter-tray top">
        <div class="tray-inner">
          <div class="filter-rule-group">


            <div class="col-sm-3" style="margin-top:20px">
<div class="form-group">
  <span class="control-label" style="color:#FFFFFF">Projekt:</span>
<input type="text" ng-model="vm.search.name" class="form-group">
</div>
</div>

<div class="col-sm-3" style="margin-top:20px" ng-show="(user.username == '212434909' || user.username == '502678184')">
<div class="form-group">
  <span class="control-label" style="color:#FFFFFF">Felelős:</span>
<input type="text" ng-model="vm.search.responsible" class="form-group">
</div>
</div>

<div class="col-sm-3" style="margin-top:20px">
<div class="form-group">
  <span class="control-label" style="color:#FFFFFF">Riport gyakorisága:</span>
<select ng-model="vm.search.freqvency" class="form-control">
						    <option value="">Mind</option>
                <option value="Napi">Napi</option>
                <option value="Heti">Heti</option>
                <option value="Havi">Havi</option>
            </select>
</div>
</div>

<div class="col-sm-3" style="margin-top:20px">
<div class="form-group">
  <span class="control-label" style="color:#FFFFFF">Státusz:</span>
<select ng-model="vm.search.status" class="form-control">
						    <option value="">Mind</option>
                <option value="0">Várakozik</option>
                <option value="1">Folyamatban</option>
                <option value="5">Befejezve</option>
            </select>
</div>
</div>

</div>
</div>
</div>
<table class="table table-striped">
  <thead>
    <tr>
      <th rowspan=2 ng-click="vm.order='id';vm.asc=!vm.asc;">Felvitel időpontja</th>
      <th rowspan=2 ng-click="vm.order='name';vm.asc=!vm.asc;">Projekt</th>
      <th rowspan=2 ng-click="vm.order='responsible';vm.asc=!vm.asc;">Felelős</th>
      <th rowspan=2 ng-click="vm.order='freqvency';vm.asc=!vm.asc;">Riport gyakorisága</th>
      <th rowspan=2 ng-click="vm.order='level';vm.asc=!vm.asc;">Szint</th>
      <th rowspan=2 ng-click="vm.order='status';vm.asc=!vm.asc;">Státusz</th>
      <th>Szerkesztés</th>
      <!--<th>Részletek</th>
            <th>Sprint indítása</th>-->
    </tr>
  </thead>
  <tbody>
    <style>
            .green {
              color: green!important;
            }
            
            .blue {
              color: blue!important;
            }
          </style>
<tr ng-repeat="item in vm.project | orderBy:vm.order:vm.asc | filter: vm.search" ng-class="{'green':item.status==5,'blue':item.status==1}">
  <td>{{item.id | date: 'yyyy-MM-dd HH:mm'}}</td>
  <td>{{item.name}}</td>
  <td>{{item.responsible}}</td>
  <td>{{item.freqvency}}</td>
  <td>{{item.level}}</td>
  <td>{{item.status | change}}</td>
  <td>
    <div class="btn-group btn-group-sm">
      <button class="btn btn-primary" ng-click="vm.edit = item" title="Szerkesztés" ng-show="user.username" ng-disabled="item.status=='5'"><i class="icon-edit"></i></button>
      <button ng-show="(user.username == '212434909' || user.username == '502678184') && item.status!='5'" class="btn btn-danger"
        ng-click="vm.addSprint(item)" ng-disabled="vm.checksp(item)"><i class="icon-play" title="SPRINT"></i></button>
      <button class="btn btn-info" ui-sref="Projekt({project:item})"><i class="icon-info-sign" title="Részletek"></i></button>
    </div>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="module-footer"></div>
</section>

<section class="module" ng-show="vm.edit" style="margin-top:20px">
<div class="module-header">Projekt módosítása</div>
<div class="module-body">
  <div class="row" style="margin-top:10px">
<div class="col-sm-3">
  <div class="input-group">
    <span class="input-group-addon">Név:</span>
    <input type="text" class="form-control" ng-model="vm.edit.name">
  </div>
</div>

<div class="col-sm-6">
  <div class="input-group">
    <span class="input-group-addon">Részletes leírás:</span>
    <textarea class="form-control" rows="4" ng-model="vm.edit.description"></textarea>
  </div>
</div>
</div>


<div class="row" style="margin-top:10px">
<div class="col-sm-3">
  <div class="input-group">
    <span class="input-group-addon">Gyakoriság:</span>
    <select ng-model="vm.edit.freqvency" class="form-control">
             <option value="Napi">Napi</option>
             <option value="Heti">Heti</option>
             <option value="Havi">Havi</option>
             </select>
  </div>
</div>
<div class="col-sm-4">
  <div class="input-group">
    <span class="input-group-addon">Riport elkészítése:</span>
    <select ng-model="vm.edit.reporttime" class="form-control">
             <option value="10-">Kevesebb mint 10 perc</option>
             <option value="10+">Több mint 10 perc de kevesebb mint 60 perc</option>
             <option value="60+">Több mint 60 perc</option>
             </select>
  </div>
</div>
<div class="col-sm-4">
  <div class="input-group">
    <span class="input-group-addon">Szint:</span>
    <select ng-model="vm.edit.level" class="form-control">
             <option value="Technikus">Technikus</option>
             <option value="Terület vezető">Terület vezető</option>
             <option value="First line m">First line menedzsment</option>
             </select>
  </div>
</div>
</div>

<div class="btn-group">
  <button class="btn btn-default" ng-click="vm.edit = '';">Mégse</button>
  <button class="btn btn-danger" ng-click="vm.updateproject(vm.edit)">Mentés</button>
</div>

</div>
<div class="module-footer"></div>
</section>
</div>
<div class="container">
	<section class="module">
		<div class="module-header">
			<h1 class="text-center">Bökés térkép - {{vm.acttipus}}</h1>
			<h2 class="text-center" style="margin-top:10px">{{vm.startdatumszam}}-{{vm.enddatumszam}}</h2>
			<div class="col-sm-6" style="margin-top:10px">
				<div class="input-group">
					<span class="input-group-addon">Dátum</span>
					<input type="text" class="datepicker form-control" ng-model="vm.startdatum" setdate="-6d" end="{{vm.edate}}">
					<span class="input-group-addon">-tól</span>
					<input type="text" class="datepicker form-control" ng-model="vm.enddatum" setdate="0d" end="{{vm.edate}}">
					<span class="input-group-addon">-ig</span>
					<div class="input-group-btn">
						<a href="" class="btn btn-primary" ng-click="vm.load();vm.beilleszt();vm.tablazatazon=''" ng-disabled="vm.enddatum<=vm.startdatum;vm.mtfload">Betöltés</a>
					</div>
				</div>
			</div>
			<div class="col-sm-3" style="margin-top:10px">
				<div class="input-group">
					<span class="input-group-addon">Típus:</span>
					<select ng-model="vm.acttipus" class="form-control" ng-change="vm.tablazatazon='';vm.putmodul=[];vm.modulnevazon=''">
                    <option ng-repeat="item in vm.tipusok" value="{{item}}">{{item}}</option>
                </select>
				</div>
			</div>

			<div class="col-sm-12" style="margin-top:10px">
				<ul class="nav nav-tabs" style="margin-top:10px">
					<li ng-repeat="item in vm.esetek track by $index">
						<a data-toggle="tab" href="" ng-click="vm.eset=item;vm.putmodul=[];vm.modulnevazon=''" ng-hide="vm.mtfload">{{item}}</a>
					</li>
				</ul>
			</div>
		</div>
		<div class="module-body">
			<div class="progress progress-info progress-striped active" ng-hide="!vm.mtfload">
				<div class="progress-bar" style="width: 100%">
					<p class="text-center">Betöltés</p>
				</div>
			</div>
			<div class="col-sm-6">
				<div class="container">
					<div class="modMap">
						<div class="row" ng-repeat="sor in vm.sorok track by $index" ng-show="vm.eset=='Bökés' && vm.acttipus=='Mind'">
							<div ng-if="sor == '1' || sor == '8'">
								<div ng-repeat="oszlop in vm.oszlop track by $index" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)"
								 class="blue">{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].bokes | number:0 }}</div>
							</div>
							<div ng-if="sor=='2' || sor=='6'">
								<div ng-repeat="oszlop in vm.oszlop track by $index" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)"
								 ng-if="oszlop!='E'" class="yellow">{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].bokes | number:0 }} </div>
							</div>
							<div ng-if="sor=='3' || sor=='5'">
								<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)"
								 class="black">{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].bokes | number:0 }} </div>
							</div>
							<div ng-if="sor=='4'">
								<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)"
								 class="red">{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].bokes | number:0 }} </div>
							</div>
						</div>
						<div class="row" ng-repeat="sor in vm.sorok track by $index" ng-show="vm.eset=='Bökés/AEQ' && vm.acttipus=='Mind'">
							<div ng-if="sor == '1' || sor == '8'">
								<div ng-repeat="oszlop in vm.oszlop" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)" class="blue">{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].bokes/vm.allaeq | number:2 }}</div>
							</div>
							<div ng-if="sor=='2' || sor=='6'">
								<div ng-repeat="oszlop in vm.oszlop" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)" ng-if="oszlop!='E'"
								 class="yellow">{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].bokes/vm.allaeq | number:2 }} </div>
							</div>
							<div ng-if="sor=='3' || sor=='5'">
								<div ng-repeat="oszlop in ['A','B','C','D']" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)"
								 class="black">{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].bokes/vm.allaeq | number:2}} </div>
							</div>
							<div ng-if="sor=='4'">
								<div ng-repeat="oszlop in ['A','B','C','D']" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)"
								 class="red">{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].bokes/vm.allaeq | number:2 }} </div>
							</div>
						</div>
						<div class="row" ng-repeat="sor in vm.sorok track by $index" ng-show="vm.eset=='Súlyozott Bökés/AEQ' && vm.acttipus=='Mind'">
							<div ng-if="sor == '1' || sor == '8'">
								<div ng-repeat="oszlop in vm.oszlop" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)" class="blue">{{ ((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].bokes/vm.allaeq)*30 | number:2 }}</div>
							</div>
							<div ng-if="sor=='2' || sor=='6'">
								<div ng-repeat="oszlop in vm.oszlop" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)" ng-if="oszlop!='E'"
								 class="yellow">{{ ((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].bokes/vm.allaeq)*30 | number:2 }} </div>
							</div>
							<div ng-if="sor=='3' || sor=='5'">
								<div ng-repeat="oszlop in ['A','B','C','D']" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)"
								 class="black">{{ ((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].bokes/vm.allaeq)*30 | number:2}} </div>
							</div>
							<div ng-if="sor=='4'">
								<div ng-repeat="oszlop in ['A','B','C','D']" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)"
								 class="red">{{ ((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].bokes/vm.allaeq)*30 | number:2 }} </div>
							</div>
						</div>
						<div ng-show="vm.eset=='Modul' && vm.acttipus=='Mind'">
							<h3 style="margin-left:75px" ng-show="vm.modulnevazon"><a class="btn btn-large btn-info" target="_blank" href="../Modulhistory/#/history/{{vm.modulnevazon}}">{{vm.modulnevazon}}</a></h3>
							<div class="row" ng-repeat="sor in vm.sorok track by $index">
								<div ng-if="sor == '1' || sor == '8'">
									<div ng-repeat="oszlop in vm.oszlop track by $index" class="blue">{{ (vm.putmodul|filter:{'azon':oszlop + sor})| sumField:'db' | number:0 }}</div>
								</div>
								<div ng-if="sor=='2' || sor=='6'">
									<div ng-repeat="oszlop in vm.oszlop track by $index" ng-if="oszlop!='E'" class="yellow">{{ (vm.putmodul|filter:{'azon':oszlop + sor})|sumField:'db' | number:0 }} </div>
								</div>
								<div ng-if="sor=='3' || sor=='5'">
									<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" class="black">{{ (vm.putmodul|filter:{'azon':oszlop + sor})|sumField:'db' | number:0 }} </div>
								</div>
								<div ng-if="sor=='4'">
									<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" class="red">{{ (vm.putmodul|filter:{'azon':oszlop + sor})|sumField:'db' | number:0 }} </div>
								</div>
							</div>
						</div>
						<!-- FLOW-->
						<div class="row" ng-repeat="sor in vm.sorok track by $index" ng-show="vm.eset=='Bökés' && vm.acttipus=='FLOW'">
							<div ng-if="sor == '1' || sor == '8'">
								<div ng-repeat="oszlop in vm.oszlop track by $index" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)"
								 class="blue">{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modultype':'FLOW'} | sumField:'modulbokes'
									| number:0 }}</div>
							</div>
							<div ng-if="sor=='2' || sor=='6'">
								<div ng-repeat="oszlop in vm.oszlop track by $index" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)"
								 ng-if="oszlop!='E'" class="yellow">{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modultype':'FLOW'} | sumField:'modulbokes'
									| number:0 }}</div>
							</div>
							<div ng-if="sor=='3' || sor=='5'">
								<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)"
								 class="black">{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modultype':'FLOW'} | sumField:'modulbokes'
									| number:0 }}</div>
							</div>
							<div ng-if="sor=='4'">
								<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)"
								 class="red">{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modultype':'FLOW'} | sumField:'modulbokes'
									| number:0 }}</div>
							</div>
						</div>
						<div class="row" ng-repeat="sor in vm.sorok track by $index" ng-show="vm.eset=='Bökés/AEQ' && vm.acttipus=='FLOW'">
							<div ng-if="sor == '1' || sor == '8'">
								<div ng-repeat="oszlop in vm.oszlop" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)" class="blue">{{ ((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modultype':'FLOW'} | sumField:'modulbokes')
									/ vm.allflowaeq | number:2 }}</div>
							</div>
							<div ng-if="sor=='2' || sor=='6'">
								<div ng-repeat="oszlop in vm.oszlop" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)" ng-if="oszlop!='E'"
								 class="yellow">{{ ((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modultype':'FLOW'} | sumField:'modulbokes')
									/ vm.allflowaeq| number:2 }}</div>
							</div>
							<div ng-if="sor=='3' || sor=='5'">
								<div ng-repeat="oszlop in ['A','B','C','D']" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)"
								 class="black">{{ ((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modultype':'FLOW'} | sumField:'modulbokes')
									/ vm.allflowaeq | number:2 }}</div>
							</div>
							<div ng-if="sor=='4'">
								<div ng-repeat="oszlop in ['A','B','C','D']" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)"
								 class="red">{{ ((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modultype':'FLOW'} | sumField:'modulbokes')
									/ vm.allflowaeq | number:2 }}</div>
							</div>
						</div>
						<div class="row" ng-repeat="sor in vm.sorok track by $index" ng-show="vm.eset=='Súlyozott Bökés/AEQ' && vm.acttipus=='FLOW'">
							<div ng-if="sor == '1' || sor == '8'">
								<div ng-repeat="oszlop in vm.oszlop" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)" class="blue">{{ (((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modultype':'FLOW'} | sumField:'modulbokes')
									/ vm.allflowaeq)*30 | number:2 }}</div>
							</div>
							<div ng-if="sor=='2' || sor=='6'">
								<div ng-repeat="oszlop in vm.oszlop" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)" ng-if="oszlop!='E'"
								 class="yellow">{{ (((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modultype':'FLOW'} | sumField:'modulbokes')
									/ vm.allflowaeq)*30| number:2 }}</div>
							</div>
							<div ng-if="sor=='3' || sor=='5'">
								<div ng-repeat="oszlop in ['A','B','C','D']" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)"
								 class="black">{{ (((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modultype':'FLOW'} | sumField:'modulbokes')
									/ vm.allflowaeq)*30 | number:2 }}</div>
							</div>
							<div ng-if="sor=='4'">
								<div ng-repeat="oszlop in ['A','B','C','D']" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)"
								 class="red">{{ (((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modultype':'FLOW'} | sumField:'modulbokes')
									/ vm.allflowaeq)*30 | number:2 }}</div>
							</div>
						</div>
						<!--CP5-->
						<div class="row" ng-repeat="sor in vm.sorok track by $index" ng-show="vm.eset=='Bökés' && vm.acttipus=='CP5'">
							<div ng-if="sor == '1' || sor == '8'">
								<div ng-repeat="oszlop in vm.oszlop track by $index" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)"
								 class="blue">{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modultype':'CP5'} | sumField:'modulbokes'
									| number:0 }}</div>
							</div>
							<div ng-if="sor=='2' || sor=='6'">
								<div ng-repeat="oszlop in vm.oszlop track by $index" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)"
								 ng-if="oszlop!='E'" class="yellow">{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modultype':'CP5'} | sumField:'modulbokes'
									| number:0 }}</div>
							</div>
							<div ng-if="sor=='3' || sor=='5'">
								<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)"
								 class="black">{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modultype':'CP5'} | sumField:'modulbokes'
									| number:0 }}</div>
							</div>
							<div ng-if="sor=='4'">
								<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)"
								 class="red">{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modultype':'CP5'} | sumField:'modulbokes'
									| number:0 }}</div>
							</div>
						</div>
						<div class="row" ng-repeat="sor in vm.sorok track by $index" ng-show="vm.eset=='Bökés/AEQ' && vm.acttipus=='CP5'">
							<div ng-if="sor == '1' || sor == '8'">
								<div ng-repeat="oszlop in vm.oszlop" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)" class="blue">{{ ((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modultype':'CP5'} | sumField:'modulbokes')
									/ vm.allcp5aeq | number:2 }}</div>
							</div>
							<div ng-if="sor=='2' || sor=='6'">
								<div ng-repeat="oszlop in vm.oszlop" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)" ng-if="oszlop!='E'"
								 class="yellow">{{ ((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modultype':'CP5'} | sumField:'modulbokes')
									/ vm.allcp5aeq | number:2 }}</div>
							</div>
							<div ng-if="sor=='3' || sor=='5'">
								<div ng-repeat="oszlop in ['A','B','C','D']" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)"
								 class="black">{{ ((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modultype':'CP5'} | sumField:'modulbokes')
									/ vm.allcp5aeq | number:2 }}</div>
							</div>
							<div ng-if="sor=='4'">
								<div ng-repeat="oszlop in ['A','B','C','D']" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)"
								 class="red">{{ ((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modultype':'CP5'} | sumField:'modulbokes')
									/vm.allcp5aeq | number:2 }}</div>
							</div>
						</div>
						<div class="row" ng-repeat="sor in vm.sorok track by $index" ng-show="vm.eset=='Súlyozott Bökés/AEQ' && vm.acttipus=='CP5'">
							<div ng-if="sor == '1' || sor == '8'">
								<div ng-repeat="oszlop in vm.oszlop" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)" class="blue">{{ (((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modultype':'CP5'} | sumField:'modulbokes')
									/ vm.allcp5aeq)*30 | number:2 }}</div>
							</div>
							<div ng-if="sor=='2' || sor=='6'">
								<div ng-repeat="oszlop in vm.oszlop" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)" ng-if="oszlop!='E'"
								 class="yellow">{{ (((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modultype':'CP5'} | sumField:'modulbokes')
									/ vm.allcp5aeq)*30 | number:2 }}</div>
							</div>
							<div ng-if="sor=='3' || sor=='5'">
								<div ng-repeat="oszlop in ['A','B','C','D']" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)"
								 class="black">{{ (((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modultype':'CP5'} | sumField:'modulbokes')
									/ vm.allcp5aeq)*30 | number:2 }}</div>
							</div>
							<div ng-if="sor=='4'">
								<div ng-repeat="oszlop in ['A','B','C','D']" ng-click="vm.tablazatazon=oszlop+sor;vm.tabl(oszlop+sor);vm.drawchart(oszlop+sor)"
								 class="red">{{ (((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modultype':'CP5'} | sumField:'modulbokes')
									/vm.allcp5aeq)*30 | number:2 }}</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-sm-6">
				<ul ng-show="vm.acttipus=='Mind'">
					<li ng-repeat="t in vm.typedb| orderBy:'-aeq' track by $index">
						{{t.typename}} : {{t.db}} db - {{t.db*t.aeq | number:0}} AEQ
					</li>
				</ul>
				<table class="table table-striped table-condensed" ng-show="vm.acttipus=='Mind' && vm.eset=='Modul'" style="margin-top:20px">
					<thead>
						<tr>
							<th>ID</th>
							<th>Név</th>
							<th>Bökés</th>
							<th>Bökés részletek</th>
							<!--<th>Modul részletek</th>-->
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="item in vm.osszesmodulbokes| orderBy:'-bokes'|limitTo:15 track by $index">
							<td>{{item.modul}}</td>
							<td>{{item.name}}</td>
							<td>{{item.bokes}}</td>
							<td ng-click="vm.putmodul=item.bokespozbokes;vm.modulnevazon=item.modul"><i class="icon-info-sign"></i></td>
							<!--<td><div class="text-center"><a class="btn btn-primary" ng-click="vm.actcode=item.modul" href="../Modulhistory/#/history">History</a></div></td>-->
						</tr>
					</tbody>
				</table>
				<mychart ng-show="vm.acttipus=='Mind'" ng-hide="vm.eset=='Modul'" id="paretochart" config="vm.paretoconfig"></mychart>
				<div ng-show="vm.tablazatazon!=''">
					<h2 ng-hide="vm.eset=='Modul'" class="text-center">{{vm.tablazatazon}} - hibahely részletek</h2>
					<mychart ng-hide="vm.eset=='Modul'" id="fieldchart" config="vm.chartconfig"></mychart>
				</div>
			</div>
		</div>
		<div class="module-footer row">
			<div class="container">
				<div class="modMaps">
					<div class="col-sm-3" ng-show="vm.eset=='Bökés' && vm.acttipus=='Mind'" ng-repeat="szak in ['A','B','C','D']">
						<h1 class="text-center">{{szak}}</h1>
						<div class="row" ng-repeat="sor in vm.sorok track by $index">
							<div ng-if="sor == '1' || sor == '8'">
								<div ng-repeat="oszlop in vm.oszlop track by $index" class="blues">{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modulszak':szak} | sumField:'modulbokes'
									| number:0 }} </div>
							</div>
							<div ng-if="sor=='2' || sor=='6'">
								<div ng-repeat="oszlop in vm.oszlop track by $index" ng-if="oszlop!='E'" class="yellows">
									{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modulszak':szak} | sumField:'modulbokes'| number:0
									}}
								</div>
							</div>
							<div ng-if="sor=='3' || sor=='5'">
								<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" class="blacks">{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modulszak':szak} | sumField:'modulbokes'
									| number:0 }} </div>
							</div>
							<div ng-if="sor=='4'">
								<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" class="reds">{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modulszak':szak} | sumField:'modulbokes'
									| number:0 }} </div>
							</div>
						</div>
					</div>
					<div class="col-sm-3" ng-show="vm.eset=='Bökés/AEQ' && vm.acttipus=='Mind'" ng-repeat="szak in ['A','B','C','D']">
						<h1 class="text-center">{{szak}}</h1>
						<div class="row" ng-repeat="sor in vm.sorok track by $index">
							<div ng-if="sor == '1' || sor == '8'">
								<div ng-repeat="oszlop in vm.oszlop track by $index" class="blues">
									{{ ((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modulszak':szak} | sumField: 'modulbokes') / vm.allaeq
									| number:2}} </div>
							</div>
							<div ng-if="sor=='2' || sor=='6'">
								<div ng-repeat="oszlop in vm.oszlop track by $index" ng-if="oszlop!='E'" class="yellows">
									{{ ((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modulszak':szak} | sumField: 'modulbokes') / vm.allaeq
									| number:2}}
								</div>
							</div>
							<div ng-if="sor=='3' || sor=='5'">
								<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" class="blacks">{{ ((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modulszak':szak} | sumField: 'modulbokes')
									/ vm.allaeq | number:2}}</div>
							</div>
							<div ng-if="sor=='4'">
								<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" class="reds">
									{{ ((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modulszak':szak} | sumField: 'modulbokes') / vm.allaeq
									| number:2}}</div>
							</div>
						</div>
					</div>
					<div class="col-sm-3" ng-show="vm.eset=='Súlyozott Bökés/AEQ' && vm.acttipus=='Mind'" ng-repeat="szak in ['A','B','C','D']">
						<h1 class="text-center">{{szak}}</h1>
						<div class="row" ng-repeat="sor in vm.sorok track by $index">
							<div ng-if="sor == '1' || sor == '8'">
								<div ng-repeat="oszlop in vm.oszlop track by $index" class="blues">
									{{ (((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modulszak':szak} | sumField: 'modulbokes') / vm.allaeq)*30
									| number:2}} </div>
							</div>
							<div ng-if="sor=='2' || sor=='6'">
								<div ng-repeat="oszlop in vm.oszlop track by $index" ng-if="oszlop!='E'" class="yellows">
									{{ (((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modulszak':szak} | sumField: 'modulbokes') / vm.allaeq)*30
									| number:2}}
								</div>
							</div>
							<div ng-if="sor=='3' || sor=='5'">
								<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" class="blacks">{{ (((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modulszak':szak} | sumField: 'modulbokes')
									/ vm.allaeq)*30 | number:2}}</div>
							</div>
							<div ng-if="sor=='4'">
								<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" class="reds">
									{{ (((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls | filter:{'modulszak':szak} | sumField: 'modulbokes') / vm.allaeq)*30
									| number:2}}</div>
							</div>
						</div>
					</div>
					<!-- Flow-->
					<div class="col-sm-3" ng-show="vm.eset=='Bökés' && vm.acttipus=='FLOW'" ng-repeat="szak in ['A','B','C','D']">
						<h1 class="text-center">{{szak}}</h1>
						<div class="row" ng-repeat="sor in vm.sorok track by $index">
							<div ng-if="sor == '1' || sor == '8'">
								<div ng-repeat="oszlop in vm.oszlop track by $index" class="blues">{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls| filter:{'modultype':'FLOW'} | filter:{'modulszak':szak}
									| sumField:'modulbokes' | number:0 }} </div>
							</div>
							<div ng-if="sor=='2' || sor=='6'">
								<div ng-repeat="oszlop in vm.oszlop track by $index" ng-if="oszlop!='E'" class="yellows">
									{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls| filter:{'modultype':'FLOW'} | filter:{'modulszak':szak} |
									sumField:'modulbokes'| number:0 }}
								</div>
							</div>
							<div ng-if="sor=='3' || sor=='5'">
								<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" class="blacks">{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls| filter:{'modultype':'FLOW'} | filter:{'modulszak':szak}
									| sumField:'modulbokes' | number:0 }} </div>
							</div>
							<div ng-if="sor=='4'">
								<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" class="reds">{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls| filter:{'modultype':'FLOW'} | filter:{'modulszak':szak}
									| sumField:'modulbokes' | number:0 }} </div>
							</div>
						</div>
					</div>
					<div class="col-sm-3" ng-show="vm.eset=='Bökés/AEQ' && vm.acttipus=='FLOW'" ng-repeat="szak in ['A','B','C','D']">
						<h1 class="text-center">{{szak}}</h1>
						<div class="row" ng-repeat="sor in vm.sorok track by $index">
							<div ng-if="sor == '1' || sor == '8'">
								<div ng-repeat="oszlop in vm.oszlop track by $index" class="blues">
									{{ ((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls| filter:{'modultype':'FLOW'} | filter:{'modulszak':szak} |
									sumField: 'modulbokes') / vm.allflowaeq | number:2}} </div>
							</div>
							<div ng-if="sor=='2' || sor=='6'">
								<div ng-repeat="oszlop in vm.oszlop track by $index" ng-if="oszlop!='E'" class="yellows">
									{{ ((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls| filter:{'modultype':'FLOW'} | filter:{'modulszak':szak} |
									sumField: 'modulbokes') / vm.allflowaeq | number:2}}
								</div>
							</div>
							<div ng-if="sor=='3' || sor=='5'">
								<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" class="blacks">{{ ((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls| filter:{'modultype':'FLOW'} | filter:{'modulszak':szak}
									| sumField: 'modulbokes') /vm.allflowaeq | number:2}}</div>
							</div>
							<div ng-if="sor=='4'">
								<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" class="reds">
									{{ ((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls| filter:{'modultype':'FLOW'} | filter:{'modulszak':szak} |
									sumField: 'modulbokes') / vm.allflowaeq | number:2}}</div>
							</div>
						</div>
					</div>
					<div class="col-sm-3" ng-show="vm.eset=='Súlyozott Bökés/AEQ' && vm.acttipus=='FLOW'" ng-repeat="szak in ['A','B','C','D']">
						<h1 class="text-center">{{szak}}</h1>
						<div class="row" ng-repeat="sor in vm.sorok track by $index">
							<div ng-if="sor == '1' || sor == '8'">
								<div ng-repeat="oszlop in vm.oszlop track by $index" class="blues">
									{{ (((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls| filter:{'modultype':'FLOW'} | filter:{'modulszak':szak}
									| sumField: 'modulbokes') / vm.allflowaeq)*30 | number:2}} </div>
							</div>
							<div ng-if="sor=='2' || sor=='6'">
								<div ng-repeat="oszlop in vm.oszlop track by $index" ng-if="oszlop!='E'" class="yellows">
									{{ (((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls| filter:{'modultype':'FLOW'} | filter:{'modulszak':szak}
									| sumField: 'modulbokes') / vm.allflowaeq)*30 | number:2}}
								</div>
							</div>
							<div ng-if="sor=='3' || sor=='5'">
								<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" class="blacks">{{ (((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls| filter:{'modultype':'FLOW'} | filter:{'modulszak':szak}
									| sumField: 'modulbokes') /vm.allflowaeq)*30 | number:2}}</div>
							</div>
							<div ng-if="sor=='4'">
								<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" class="reds">
									{{ (((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls| filter:{'modultype':'FLOW'} | filter:{'modulszak':szak}
									| sumField: 'modulbokes') / vm.allflowaeq)*30 | number:2}}</div>
							</div>
						</div>
					</div>
					<!-- CP5 -->
					<div class="col-sm-3" ng-show="vm.eset=='Bökés' && vm.acttipus=='CP5'" ng-repeat="szak in ['A','B','C','D']">
						<h1 class="text-center">{{szak}}</h1>
						<div class="row" ng-repeat="sor in vm.sorok track by $index">
							<div ng-if="sor == '1' || sor == '8'">
								<div ng-repeat="oszlop in vm.oszlop track by $index" class="blues">{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls| filter:{'modultype':'CP5'} | filter:{'modulszak':szak}
									| sumField:'modulbokes' | number:0 }} </div>
							</div>
							<div ng-if="sor=='2' || sor=='6'">
								<div ng-repeat="oszlop in vm.oszlop track by $index" ng-if="oszlop!='E'" class="yellows">
									{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls| filter:{'modultype':'CP5'} | filter:{'modulszak':szak} | sumField:'modulbokes'|
									number:0 }}
								</div>
							</div>
							<div ng-if="sor=='3' || sor=='5'">
								<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" class="blacks">{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls| filter:{'modultype':'CP5'} | filter:{'modulszak':szak}
									| sumField:'modulbokes' | number:0 }} </div>
							</div>
							<div ng-if="sor=='4'">
								<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" class="reds">{{ (vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls| filter:{'modultype':'CP5'} | filter:{'modulszak':szak}
									| sumField:'modulbokes' | number:0 }} </div>
							</div>
						</div>
					</div>
					<div class="col-sm-3" ng-show="vm.eset=='Bökés/AEQ' && vm.acttipus=='CP5'" ng-repeat="szak in ['A','B','C','D']">
						<h1 class="text-center">{{szak}}</h1>
						<div class="row" ng-repeat="sor in vm.sorok track by $index">
							<div ng-if="sor == '1' || sor == '8'">
								<div ng-repeat="oszlop in vm.oszlop track by $index" class="blues">
									{{ ((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls| filter:{'modultype':'CP5'} | filter:{'modulszak':szak} |
									sumField: 'modulbokes') / vm.allcp5aeq | number:2}} </div>
							</div>
							<div ng-if="sor=='2' || sor=='6'">
								<div ng-repeat="oszlop in vm.oszlop track by $index" ng-if="oszlop!='E'" class="yellows">
									{{ ((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls| filter:{'modultype':'CP5'} | filter:{'modulszak':szak} |
									sumField: 'modulbokes') / vm.allcp5aeq | number:2}}
								</div>
							</div>
							<div ng-if="sor=='3' || sor=='5'">
								<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" class="blacks">{{ ((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls| filter:{'modultype':'CP5'} | filter:{'modulszak':szak}
									| sumField: 'modulbokes') /vm.allcp5aeq | number:2}}</div>
							</div>
							<div ng-if="sor=='4'">
								<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" class="reds">
									{{ ((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls| filter:{'modultype':'CP5'} | filter:{'modulszak':szak} |
									sumField: 'modulbokes') / vm.allcp5aeq | number:2}}</div>
							</div>
						</div>
					</div>
					<div class="col-sm-3" ng-show="vm.eset=='Súlyozott Bökés/AEQ' && vm.acttipus=='CP5'" ng-repeat="szak in ['A','B','C','D']">
						<h1 class="text-center">{{szak}}</h1>
						<div class="row" ng-repeat="sor in vm.sorok track by $index">
							<div ng-if="sor == '1' || sor == '8'">
								<div ng-repeat="oszlop in vm.oszlop track by $index" class="blues">
									{{ (((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls| filter:{'modultype':'CP5'} | filter:{'modulszak':szak} |
									sumField: 'modulbokes') / vm.allcp5aeq)*30 | number:2}} </div>
							</div>
							<div ng-if="sor=='2' || sor=='6'">
								<div ng-repeat="oszlop in vm.oszlop track by $index" ng-if="oszlop!='E'" class="yellows">
									{{ (((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls| filter:{'modultype':'CP5'} | filter:{'modulszak':szak} |
									sumField: 'modulbokes') / vm.allcp5aeq)*30 | number:2}}
								</div>
							</div>
							<div ng-if="sor=='3' || sor=='5'">
								<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" class="blacks">{{ (((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls| filter:{'modultype':'CP5'} | filter:{'modulszak':szak}
									| sumField: 'modulbokes') /vm.allcp5aeq)*30 | number:2}}</div>
							</div>
							<div ng-if="sor=='4'">
								<div ng-repeat="oszlop in ['A','B','C','D'] track by $index" class="reds">
									{{ (((vm.soroszlopbokes|filter:{'azon':oszlop + sor})[0].moduls| filter:{'modultype':'CP5'} | filter:{'modulszak':szak} |
									sumField: 'modulbokes') / vm.allcp5aeq)*30 | number:2}}</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div ng-show="vm.tablazatazon!='' && vm.acttipus=='Mind'">
			<button class="btn btn-default pull-right" ng-class="{'btn-info':vm.show}" ng-click="vm.show=!vm.show">Táblázat</button>
		</div>
		<div class="col-sm-12" ng-show="vm.show && vm.acttipus=='Mind'" style="margin-top:10px">
			<div class="tray filter-tray top">
				<div class="tray-inner">
					<div class="filter-rule-group">

						<div class="col-sm-3">
							<div class="form-group">
								<span class="control-label" style="color:#FFFFFF">Modul</span>
								<input type="text" ng-model="search.modulazon" class="form-group">
							</div>
						</div>

						<div class="col-sm-3">
							<div class="form-group">
								<span class="control-label" style="color:#FFFFFF">Hiba</span>
								<select ng-model="search.modulbokeshiba" class="form-control ng-pristine ng-untouched ng-valid">
                        			<option value="">Mind</option>
                        			<option ng-repeat="item in vm.tablazat|unique:'modulbokeshiba'" value="{{item.modulbokeshiba}}">{{item.modulbokeshiba}}</option>
                    			</select>
							</div>
						</div>
						<div class="col-sm-2">
							<div class="form-group">
								<span class="control-label" style="color:#FFFFFF">Kád</span>
								<select ng-model="search.modultank" class="form-control ng-pristine ng-untouched ng-valid">
                        			<option value="">Mind</option>
                        			<option ng-repeat="item in vm.kadak" value="{{item}}">{{item}}</option>
                    			</select>
							</div>
						</div>
						<div class="col-sm-2">
							<div class="form-group">
								<span class="control-label" style="color:#FFFFFF">Típus</span>
								<select ng-model="search.modultype" class="form-control ng-pristine ng-untouched ng-valid">
                        			<option value>Mind</option>
                        			<option value="FLOW">FLOW</option>
                        			<option value="CP5">CP5</option>
                    			</select>
							</div>
						</div>
						<div class="col-sm-2">
							<div class="form-group">
								<span class="control-label" style="color:#FFFFFF">Szak</span>
								<select ng-model="search.modulszak" class="form-control ng-pristine ng-untouched ng-valid">
                        			<option value>Mind</option>
                        			<option value="A">A</option>
                        			<option value="B">B</option>
                        			<option value="C">C</option>
						            <option value="D">D</option>
                    			</select>
							</div>
						</div>

					</div>
				</div>
			</div>
			<table class="table table-striped table-condensed">
				<thead>
					<tr>
						<th rowspan=2 ng-click="vm.order='moduldatum';vm.asc=!vm.asc;">Dátum</th>
						<th rowspan=2 ng-click="vm.order='modulazon';vm.asc=!vm.asc;">Modul</th>
						<th rowspan=2 ng-click="vm.order='modulbokeshiba';vm.asc=!vm.asc;">Hiba</th>
						<th rowspan=2 ng-click="vm.order='modulbokes';vm.asc=!vm.asc;">Bökés</th>
						<th>Kád</th>
						<th>Típus</th>
						<th>Szak</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="sor in vm.tablazat | orderBy:vm.order:vm.asc | filter: search track by $index" class="ng-scope">
						<td>{{sor.moduldatum}}</td>
						<td>{{sor.modulazon}}</td>
						<td>{{sor.modulbokeshiba}}</td>
						<td>{{sor.modulbokes}}</td>
						<td>{{sor.modultank}}</td>
						<td>{{sor.modultype}}</td>
						<td>{{sor.modulszak}}</td>
					</tr>
				</tbody>
			</table>
		</div>
</div>
</section>
</div>